@page "/chessgame"

@using Microsoft.AspNetCore.Components
@using Microsoft.AspNetCore.Components.Web
@using System.Collections.Generic

<div class="chessgame">
    <h1>Chess Game</h1>
    <div class="chessboard">
        @for (int row = 0; row < 8; row++)
        {
            <div class="chessboard-row">
                @for (int col = 0; col < 8; col++)
                {
                    <div class="chessboard-cell @(GetCellClass(row, col))"
                         @onclick="() => OnCellClick(row, col)">
                        @GetPiece(row, col)
                    </div>
                }
            </div>
        }
    </div>
</div>

@code {
    private string[,] board = new string[8, 8];
    private bool isWhiteTurn = true;

    protected override void OnInitialized()
    {
        InitializeBoard();
    }

    private void InitializeBoard()
    {
        // Initialize the board with pieces
        board[0, 0] = "R"; // Rook
        board[0, 1] = "N"; // Knight
        board[0, 2] = "B"; // Bishop
        board[0, 3] = "Q"; // Queen
        board[0, 4] = "K"; // King
        board[0, 5] = "B"; // Bishop
        board[0, 6] = "N"; // Knight
        board[0, 7] = "R"; // Rook

        for (int i = 0; i < 8; i++)
        {
            board[1, i] = "P"; // Pawn
            board[6, i] = "p"; // Pawn
        }

        board[7, 0] = "r"; // Rook
        board[7, 1] = "n"; // Knight
        board[7, 2] = "b"; // Bishop
        board[7, 3] = "q"; // Queen
        board[7, 4] = "k"; // King
        board[7, 5] = "b"; // Bishop
        board[7, 6] = "n"; // Knight
        board[7, 7] = "r"; // Rook
    }

    private string GetCellClass(int row, int col)
    {
        return (row + col) % 2 == 0 ? "light-cell" : "dark-cell";
    }

    private string GetPiece(int row, int col)
    {
        return board[row, col];
    }

    private void OnCellClick(int row, int col)
    {
        // Handle cell click event
    }
}
